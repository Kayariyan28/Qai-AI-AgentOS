---
import Robot3D from './Robot3D.astro';
---

<section class="relative min-h-[60vh] flex flex-col lg:flex-row items-center justify-between z-10 px-4 md:px-0 mb-20 gap-10 lg:gap-0">
    <!-- Left: Text Content -->
    <div class="w-full lg:w-1/2 space-y-8 pt-10 md:pt-0 relative z-20">
        <div class="inline-block px-3 py-1 rounded-full bg-green-900/30 border border-green-500/30 mb-4">
            <span class="text-green-400 font-mono text-xs tracking-wider animate-pulse">‚óè SYSTEM ONLINE</span>
        </div>
        
        <h1 class="text-5xl md:text-7xl font-bold tracking-tight text-white leading-tight">
            Qai <span class="text-transparent bg-clip-text bg-gradient-to-r from-green-400 to-emerald-600 glitch-text" data-text="AgentOS">AgentOS</span>
        </h1>
        
        <p class="text-xl md:text-2xl text-gray-400 font-light max-w-lg">
            The OS that <span class="text-white font-medium italic typing-effect">thinks</span>.
        </p>

        <div class="flex flex-col sm:flex-row gap-4 pt-4 w-full sm:w-auto">
            <a href="/guides/user-guide/" class="px-8 py-3 rounded-lg bg-green-600 hover:bg-green-500 text-black font-bold transition-all hover:scale-105 shadow-[0_0_20px_rgba(74,222,128,0.3)] text-center">
                Initialize System
            </a>
            <a href="https://github.com/Kayariyan28/Qai-AI-AgentOS" class="px-8 py-3 rounded-lg bg-white/5 border border-white/10 hover:bg-white/10 text-white font-mono transition-all hover:border-green-500/50 text-center">
                View Source
            </a>
        </div>
    </div>

    <!-- Right: 3D Droid Core -->
    <div class="w-full lg:w-1/2 h-[400px] lg:h-full flex items-center justify-center relative z-10 pointer-events-none lg:pointer-events-auto">
        <div class="absolute inset-0 bg-gradient-to-r from-green-500/10 to-purple-500/10 blur-3xl rounded-full opacity-20 animate-pulse-slow"></div>
        <Robot3D />
    </div>
</section>

<style>
    .glitch-text::before,
    .glitch-text::after {
        content: attr(data-text);
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
    }
    .glitch-text::before {
        left: 2px;
        text-shadow: -1px 0 #ff00c1;
        clip: rect(44px, 450px, 56px, 0);
        animation: glitch-anim 5s infinite linear alternate-reverse;
    }
    .glitch-text::after {
        left: -2px;
        text-shadow: -1px 0 #00fff9;
        clip: rect(44px, 450px, 56px, 0);
        animation: glitch-anim2 5s infinite linear alternate-reverse;
    }

    @keyframes glitch-anim {
        0% { clip: rect(14px, 9999px, 127px, 0); }
        5% { clip: rect(66px, 9999px, 86px, 0); }
        /* ... more frames can be added for complex glitch */
        100% { clip: rect(32px, 9999px, 48px, 0); }
    }
    @keyframes glitch-anim2 {
        0% { clip: rect(89px, 9999px, 79px, 0); }
        100% { clip: rect(3px, 9999px, 86px, 0); }
    }
    
    .animate-pulse-slow {
        animation: pulse 4s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    /* Typing cursor effect (simple) */
    .typing-effect {
        border-right: 2px solid #4ade80;
        animation: blink 0.75s step-end infinite;
    }
    @keyframes blink { 50% { border-color: transparent; } }
</style>
